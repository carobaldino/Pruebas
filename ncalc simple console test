using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using NCalc;

namespace ConsoleApp1
{
    class Program
    {
        static void Main(string[] args)
        {
            String formula;
            Console.WriteLine("Insertame la formula papa");
            formula = Console.ReadLine();

            //Expression e = new Expression("Round(Pow([Pi], 2) + Pow([Pi2], 2) + [X], 2)");
            Expression e = new Expression(formula);

            e.Parameters["Ingreso Neto"] = new Expression("IngresoNeto");
            //e.Parameters["IngresoNeto"] = 10;
            //e.Parameters["ROE"] = 20;

            e.EvaluateParameter += delegate (string name, ParameterArgs argumento)
            {
                if (name == "IngresoNeto")
                    argumento.Result = 50;
                if (name == "ROE")
                    argumento.Result = 10;
            };
            var valor = e.Evaluate().ToString();
            Console.WriteLine(e.Evaluate());
            Console.ReadKey();





        }
    }
}
